webpackJsonp([15,42],{"4ZLp":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("I/w2"),n=a("TI8I"),o=a("VU/8"),l=o(s.a,n.a,!1,null,null,null);e.default=l.exports},"9bBU":function(t,e,a){a("mClu");var s=a("FeBl").Object;t.exports=function(t,e,a){return s.defineProperty(t,e,a)}},C4MV:function(t,e,a){t.exports={default:a("9bBU"),__esModule:!0}},"D/4+":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-popover",{ref:"popover",attrs:{placement:"left-end",width:"500"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("el-table",{attrs:{data:t.betslipData}},[a("el-table-column",{attrs:{width:"100",label:"Date",prop:"date","column-key":"date"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("moment")(e.row.date,"DD.MM kk:mm"))+"\n      ")]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"150",label:"Participant"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:{bold:"odds_1"===e.row.selected_event}},[t._v("\n            "+t._s(e.row.team_A.name)+"\n          ")]),t._v(" "),e.row.team_A.ex?a("div",[t._v("\n            ("+t._s(e.row.team_A.ex)+")\n          ")]):t._e(),t._v(" "),e.row.live&&"odds_1"===e.row.selected_event?a("div",[t._v("\n            [Live]\n          ")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{width:"150",label:"Participant"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{class:{bold:"odds_2"===e.row.selected_event}},[t._v("\n            "+t._s(e.row.team_B.name)+"\n          ")]),t._v(" "),e.row.team_B.ex?a("div",[t._v("\n            ("+t._s(e.row.team_B.ex)+")\n          ")]):t._e(),t._v(" "),e.row.live&&"odds_2"===e.row.selected_event?a("div",[t._v("\n            [Live]\n          ")]):t._e()]}}])}),t._v(" "),a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("Remove")])]}}])})],1),t._v(" "),a("br"),t._v(" "),a("betslipParams",{on:{updateBetAmount:t.updateBetAmount,updateBetResult:t.updateBetResult,updateCategories:t.updateCategories}}),t._v(" "),a("br"),t._v(" "),this.betslipObj?a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:10}},[t._v("\n      Final odds: "+t._s(this.betslipObj.final_odds)+"\n    ")]),t._v(" "),a("el-col",{attrs:{span:10}},[t._v("\n      Profit: "+t._s(this.betslipObj.profit)+"\n    ")])],1):t._e(),t._v(" "),a("br"),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{offset:20}},[a("el-button",{attrs:{type:"primary"},on:{click:t.storeBetslip}},[t._v("Store")])],1)],1)],1),t._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{disabled:0===t.betslipData.length},on:{click:function(e){t.active=!0}}},[t._v("Show betslip")]),t._v(" "),t.betslipData.length>0?a("el-badge",{staticClass:"item",attrs:{value:t.betslipData.length}}):t._e()],1)},n=[],o={render:s,staticRenderFns:n};e.a=o},"I/w2":function(t,e,a){"use strict";e.a={name:"betslipParams",props:[],data:function(){return{result:!1,bet_amount:0,categories:[],default_tags:[{value:"Parimatch",label:"Parimatch"},{value:"Pinnacle",label:"Pinnacle"}]}},methods:{updateBetAmount:function(t){this.$emit("updateBetAmount",t)},updateBetResult:function(t){this.$emit("updateBetResult",t)},updateCategories:function(t){this.$emit("updateCategories",t)}}}},MLzv:function(t,e,a){"use strict";var s=a("Zrlr"),n=a.n(s),o=a("wxAW"),l=a.n(o),i=a("PJh5"),r=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n()(this,t),this.data=[],this.bet_amount=0,this.result=!1,this.valid=!0,this.user_id=0,this.final_odds=1,this.profit=0,this.game={type:String,trim:!0,default:""},this.categories=[],console.log("creating betlip"),console.log(e),e.length||(e=[]),this.data=e,this.user_id=a,this.update()}return l()(t,[{key:"isValid",value:function(){var t=!0;return this.data.forEach(function(e){console.log(e),i(e.date).isAfter()&&(t=!1)}),t}}]),l()(t,[{key:"update",value:function(){var t=this;return this.final_odds=1,console.log("update"),console.log(this.data),this.data.forEach(function(e){t.final_odds*=e.selected_odds}),console.log(this.final_odds),console.log(this.final_odds*this.bet_amount),console.log(this.final_odds*this.bet_amount-this.bet_amount),this.final_odds=this.final_odds.toFixed(2),this.profit=(this.final_odds*this.bet_amount-this.bet_amount).toFixed(2),console.log(this.profit),console.log(this),!0}},{key:"getData",value:function(){var t={date:Math.round(new Date/1e3),final_odds:this.final_odds,selected_events:this.data,stake:this.bet_amount,status:this.isValid()?"true"===this.result?"WON":"LOST":"PENDING",user_id:this.user_id,categories:this.categories};return console.log("getData from betslip"),console.log(this),console.log(t),t}}]),t}();e.a=r},QVKR:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".bold[data-v-5ba57740]{font-weight:700}",""])},TI8I:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:10}},[t._v("\n            Bet result:\n        ")]),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-switch",{attrs:{activeColor:"#13ce66",inactiveColor:"#ff4949",activeText:"Won",activeValue:"true",inactiveText:"Lost",inactiveValue:"false"},on:{change:t.updateBetResult},model:{value:t.result,callback:function(e){t.result=e},expression:"result"}})],1)],1),t._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",[t._v("\n            Stake:\n        ")]),t._v(" "),a("el-col",[a("el-input-number",{attrs:{min:0,step:50},on:{change:t.updateBetAmount},model:{value:t.bet_amount,callback:function(e){t.bet_amount=e},expression:"bet_amount"}})],1)],1),t._v(" "),a("el-row",[a("el-col",[a("el-select",{attrs:{multiple:"",filterable:"","allow-create":"",placeholder:"Choose tags for your bet"},on:{change:t.updateCategories},model:{value:t.categories,callback:function(e){t.categories=e},expression:"categories"}},t._l(t.default_tags,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1)},n=[],o={render:s,staticRenderFns:n};e.a=o},VLsD:function(t,e,a){var s=a("QVKR");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("774766e7",s,!0)},Zrlr:function(t,e,a){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},mClu:function(t,e,a){var s=a("kM2E");s(s.S+s.F*!a("+E39"),"Object",{defineProperty:a("evD5").f})},nA8A:function(t,e,a){"use strict";var s=a("MLzv"),n=a("4ZLp");e.a={name:"betslip",props:["betslipData"],components:{betslipParams:n.default},data:function(){return{betslipObj:null,active:!1}},methods:{handleDelete:function(t,e){this.betslipData.splice(t,1),this.betslipData.length||(this.active=!1),this.updateBetslip()},storeBetslip:function(){this.$emit("storeBetslip",this.betslipObj.getData()),this.active=!1},updateBetResult:function(t){console.log("bet result:"+t),this.betslipObj.result=t,this.updateBetslip()},updateCategories:function(t){console.log(t),this.betslipObj.categories=t,this.updateBetslip()},updateBetAmount:function(t){console.log("bet amount:"+t),this.betslipObj.bet_amount=t,this.updateBetslip()},updateBetslip:function(){this.betslipObj.update()}},watch:{betslipData:{handler:function(t){console.log("bets added"),console.log(t),this.betslipObj=new s.a(t,this.$store.state.user.id)},deep:!0}}}},qQJz:function(t,e,a){"use strict";function s(t){a("VLsD")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("nA8A"),o=a("D/4+"),l=a("VU/8"),i=s,r=l(n.a,o.a,!1,i,"data-v-5ba57740",null);e.default=r.exports},wxAW:function(t,e,a){"use strict";e.__esModule=!0;var s=a("C4MV"),n=function(t){return t&&t.__esModule?t:{default:t}}(s);e.default=function(){function t(t,e){for(var a=0;a<e.length;a++){var s=e[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),(0,n.default)(t,s.key,s)}}return function(e,a,s){return a&&t(e.prototype,a),s&&t(e,s),e}}()}});